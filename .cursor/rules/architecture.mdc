---
description: 
globs: 
alwaysApply: false
---
# 系统架构

## 核心模块

### GraphQL解析与SQL转换 (gql)
- 负责解析GraphQL查询语句
- 将GraphQL查询映射到SQL操作
- 处理数据关系（一对一、一对多、多对多等）
- 支持复杂查询的优化和转换

### 服务发布 (svc)
- 提供HTTP/GraphQL API接口
- 处理请求验证和响应格式化
- 实现中间件和拦截器
- 集成认证和授权机制

### 网关聚合 (gtw)
- 聚合多个服务
- 处理路由和负载均衡
- 提供统一的API入口
- 实现服务发现和注册

### 基础设施 (std)
- 定义通用接口和基础结构
- 提供错误处理机制
- 实现日志记录和跟踪
- 提供配置管理功能

### 工具集合 (utl)
- 通用工具函数库
- 辅助类和扩展方法
- 数据转换和格式化
- 各种实用工具

## 数据流向

1. 客户端发送GraphQL查询到服务接口
2. 服务层接收并验证查询
3. GraphQL解析器分析查询结构
4. SQL转换器生成优化的SQL语句
5. 执行SQL并获取数据库结果
6. 结果转换为GraphQL响应格式
7. 服务层返回响应给客户端

## 扩展点

- 自定义Resolver接口
- 数据库方言适配器
- 缓存策略插件
- 权限控制机制
- 查询优化规则
